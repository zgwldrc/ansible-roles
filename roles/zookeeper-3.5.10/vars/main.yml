---
#### general parameters
uninstall: false
systemd_name: zookeeper
systemd_short_name: zk
version: 3.5.10
archive_file: "apache-zookeeper-{{version}}-bin.tar.gz"
unpacked_dirname: "apache-zookeeper-{{version}}-bin"
urlpath: "hhttps://downloads.apache.org/zookeeper/zookeeper-{{version}}/apache-zookeeper-{{version}}-bin.tar.gz"
# set single_exec_deploy true only when deploy single executable file , normaly we deploy a zip, tgz or tar.gz etc.
single_exec_deploy: false
download_dest: "/tmp/{{archive_file}}"
home: "/data/{{systemd_name}}/{{version}}"
user: "app_user"
group: "app_group"
# define ExecStart and ExecStop in systemd unit file
exec_start: "{{home}}/bin/zkServer.sh start-foreground"
exec_stop: ""
# systemd restart policy
restart: "on-failure"
home_subdirs:
- data
- logs
# - etc
file_copies: []
# file_copies:
# - src: jmx_prometheus_javaagent-0.18.0.jar
#   dest: "{{home}}/bin/jmx_prometheus_javaagent-0.18.0.jar"

config_files:
- src: systemd.service
  dest: /etc/systemd/system/{{systemd_name}}.service
- src: "env"
  dest: "{{home}}/conf/java.env"
- src: "myid"
  dest: "{{home}}/data/myid"
- src: "zoo.cfg"
  dest: "{{home}}/conf/zoo.cfg"

java_home: ""
# zookeeper
# heap mem size in MegaByte
ZK_SERVER_HEAP: 1000
ZK_CLIENT_HEAP: 256
_4lw_commands_whitelist: '*'