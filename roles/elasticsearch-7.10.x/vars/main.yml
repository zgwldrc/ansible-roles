uninstall: false
systemd_name: "elasticsearch"
systemd_short_name: "es"
version: 7.10.2
archive_file: "elasticsearch-{{version}}-linux-x86_64.tar.gz"
unpacked_dirname: elasticsearch-{{version}}
urlpath: ""
# set single_exec_deploy true only when deploy single executable file , normaly we deploy a zip, tgz or tar.gz etc.
single_exec_deploy: false
download_dest: "/tmp/{{archive_file}}"
home: "/data/elasticsearch/{{version}}"
user: app_user
group: app_group
# define ExecStart and ExecStop in systemd unit file
exec_start: "{{home}}/bin/elasticsearch"
exec_stop: ""
# systemd restart policy
restart: "on-failure"
home_subdirs: []
file_copies: []
# file_copies:
# - src: jmx_prometheus_javaagent-0.18.0.jar
#   dest: "{{home}}/bin/jmx_prometheus_javaagent-0.18.0.jar"

config_files:
- src: systemd.service
  dest: /etc/systemd/system/{{systemd_name}}.service
- src: "env"
  dest: "{{home}}/.env"
- src: heapsize.options
  dest: "{{home}}/config/jvm.options.d/heapsize.options"
- src: elasticsearch.yml
  dest: "{{home}}/config/elasticsearch.yml"


# cluster deploy control
bootstrap: false
httptls_sync: false
httpssl: false
start: start

# ENV
ES_JAVA_OPTS: ""

# custom jvm options
## head size
jvm_opt_xms: 2g
jvm_opt_xmx: 2g

## elasticsearch.yml
# xpack.security.enabled
xpack_security_enabled: false
# cluster.name
cluster_name: "elasticsearch"
# action.auto_create_index
action_auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*
